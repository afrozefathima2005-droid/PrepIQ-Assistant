<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PrepBot IQ - AI Exam Preparation Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .active-topic { background-color: #2b6cb0; color: white; border-right: 4px solid #1a365d; }
        .chat-container::-webkit-scrollbar { width: 6px; }
        .chat-container::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }
    </style>
</head>
<body class="bg-[#f3f7fa] font-sans text-slate-800">

    <nav class="bg-[#2b6cb0] text-white p-3 px-6 flex justify-between items-center shadow-md">
        <div class="flex items-center gap-3">
            <i class="fas fa-smile-beam text-2xl"></i>
            <h1 class="text-lg font-bold">PrepBot IQ <span class="font-normal text-sm opacity-80">— AI Exam Preparation Dashboard</span></h1>
        </div>
        <div class="flex gap-6 items-center text-lg">
            <i class="fas fa-bell cursor-pointer hover:text-blue-200"></i>
            <i class="fas fa-envelope cursor-pointer hover:text-blue-200"></i>
            <div class="flex items-center gap-1 cursor-pointer hover:text-blue-200">
                <i class="fas fa-globe"></i><i class="fas fa-chevron-down text-xs"></i>
            </div>
        </div>
    </nav>

    <main class="container mx-auto p-6 grid grid-cols-12 gap-6">
        
        <div class="col-span-3 space-y-6">
            <div class="bg-white rounded shadow-sm overflow-hidden border border-slate-200">
                <div class="bg-[#2b6cb0] text-white p-3 font-bold text-sm uppercase tracking-wider">Select Topic</div>
                <div id="topic-list" class="flex flex-col text-sm">
                    <button onclick="setTopic('CCS340')" class="p-3 text-left border-b hover:bg-slate-50 active-topic">Unit 1: Cyber Security (CCS340)</button>
                    <button onclick="setTopic('CCW331')" class="p-3 text-left border-b hover:bg-slate-50">Unit 2: Business Analytics (CCW331)</button>
                    <button onclick="setTopic('CS3691')" class="p-3 text-left border-b hover:bg-slate-50">Unit 3: Embedded & IoT (CS3691)</button>
                    <button onclick="setTopic('CCS345')" class="p-3 text-left border-b hover:bg-slate-50">Unit 4: Ethics and AI (CCS345)</button>
                </div>
            </div>

            <div class="bg-white rounded shadow-sm border border-slate-200">
                <div class="bg-[#2b6cb0] text-white p-3 font-bold text-sm uppercase tracking-wider">Question Type</div>
                <div class="p-4 grid grid-cols-3 gap-2">
                    <button onclick="setMarks(2)" id="btn-2" class="border py-1 text-xs rounded hover:bg-blue-50 font-bold">2 Marks</button>
                    <button onclick="setMarks(8)" id="btn-8" class="border py-1 text-xs rounded hover:bg-blue-50 font-bold">8 Marks</button>
                    <button onclick="setMarks(16)" id="btn-16" class="bg-blue-600 text-white py-1 text-xs rounded font-bold">16 Marks</button>
                </div>
            </div>

            <div class="bg-white rounded shadow-sm border border-slate-200">
                <div class="bg-[#2b6cb0] text-white p-3 font-bold text-sm uppercase tracking-wider">Upload Resources</div>
                <div class="p-3 space-y-2">
                    <button class="w-full text-left p-2 text-sm hover:bg-slate-50 flex items-center gap-3">
                        <i class="fas fa-arrow-up-from-bracket text-blue-500"></i> Upload Notes
                    </button>
                    <button class="w-full text-left p-2 text-sm hover:bg-slate-50 flex items-center gap-3">
                        <i class="fas fa-receipt text-slate-500"></i> Past Papers
                    </button>
                </div>
            </div>
        </div>

        <div class="col-span-6 flex flex-col h-[750px] bg-white rounded shadow-lg border border-slate-200 relative">
            <div class="p-4 border-b flex justify-between items-center bg-slate-50">
                <span class="font-bold text-slate-700">PrepBot IQ Chat</span>
                <div class="flex gap-4 text-slate-400">
                    <i class="fas fa-volume-up text-blue-600 cursor-pointer hover:scale-110" onclick="voiceOutput()"></i>
                    <i class="fas fa-minus cursor-pointer"></i>
                    <i class="fas fa-times cursor-pointer"></i>
                </div>
            </div>

            <div id="chat-window" class="flex-1 overflow-y-auto p-6 space-y-6 chat-container">
                <div class="flex justify-end">
                    <div class="bg-[#10a37f] text-white p-3 px-4 rounded-2xl rounded-tr-none text-sm max-w-[85%] shadow-sm">
                        Generate a 16-mark question from TCP/IP unit: <span class="opacity-70 text-[10px]">10:30 AM ✔</span>
                    </div>
                </div>

                <div class="flex gap-3">
                    <div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center shrink-0 border border-blue-200">
                        <i class="fas fa-robot text-blue-600"></i>
                    </div>
                    <div class="border border-slate-200 p-6 rounded-2xl bg-slate-50 w-full text-sm">
                        <p class="font-bold text-slate-800 mb-2">Sure! Here's a 16-mark question:</p>
                        <p class="mb-4 text-blue-800 font-bold text-lg">Explain the TCP three-way handshake in detail with a diagram.</p>
                        
                        <div class="bg-white p-4 border rounded-xl space-y-3 mb-6 shadow-inner">
                            <p><strong>Step 1: SYN –</strong> Client sends a <b>SYN</b> packet.</p>
                            <p><strong>Step 2: SYN-ACK –</strong> Server responds with <b>SYN-ACK</b>.</p>
                            <p><strong>Step 3: ACK –</strong> Client sends an <b>ACK</b> packet.</p>
                        </div>
                        
                        <div class="text-center p-6 bg-white border rounded-xl">
                            
                            <p class="text-[10px] text-slate-400 mt-3 font-bold uppercase tracking-widest">Conclusion: Ensures reliable communication.</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="p-5 border-t bg-white">
                <div class="flex items-center gap-4 border rounded-xl px-4 py-2 bg-slate-50 focus-within:bg-white focus-within:ring-2 focus-within:ring-blue-200 transition-all">
                    <input id="chat-input" type="text" placeholder="Type your message..." class="bg-transparent flex-1 outline-none text-sm py-2">
                    <i class="fas fa-microphone text-slate-400 cursor-pointer hover:text-red-500 text-lg" onclick="startVoiceInput()"></i>
                    <button onclick="sendText()" class="bg-[#2b6cb0] text-white px-6 py-2 rounded-lg font-bold text-sm hover:bg-blue-700">Send</button>
                </div>
            </div>
        </div>

        <div class="col-span-3 space-y-6">
            <div class="bg-white rounded shadow-sm border border-slate-200 overflow-hidden">
                <div class="bg-[#2b6cb0] text-white p-3 font-bold text-sm flex justify-between items-center">
                    Mock Test: Unit 3 - TCP/IP <i class="fas fa-ellipsis-h cursor-pointer"></i>
                </div>
                <div class="p-4 space-y-3">
                    <div class="bg-slate-50 p-3 text-xs border rounded-lg font-medium">Q1: Define UDP protocol (2 Marks)</div>
                    <div class="bg-slate-50 p-3 text-xs border rounded-lg font-medium">Q2: Compare TCP and UDP (8 Marks)</div>
                    <div class="bg-slate-50 p-3 text-xs border rounded-lg font-medium">Q3: Explain TCP handshake (16 Marks)</div>
                    <button class="w-full bg-[#2b6cb0] text-white py-3 rounded-lg text-sm font-bold shadow-md hover:bg-blue-700 transition">Start Test</button>
                </div>
            </div>

            <div class="bg-white rounded shadow-sm border border-slate-200 overflow-hidden">
                <div class="bg-[#2b6cb0] text-white p-3 font-bold text-sm flex justify-between items-center">
                    Performance Summary <i class="fas fa-ellipsis-h"></i>
                </div>
                <div class="p-5">
                    <div class="flex justify-between items-center mb-6">
                        <span class="text-sm font-bold text-slate-600">Accuracy:</span>
                        <span class="text-green-600 font-black text-2xl">80%</span>
                    </div>
                    <div class="space-y-3 text-sm border-t pt-4">
                        <div class="flex justify-between"><span>Correct:</span><span class="font-bold">4</span></div>
                        <div class="flex justify-between"><span>Incorrect:</span><span class="font-bold">1</span></div>
                        <div class="mt-4 p-2 bg-blue-50 rounded text-blue-700 text-xs font-bold italic">
                            Weak Area: Flow Control in TCP
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        // Data from St. Peter's College Timetable
        const subjects = {
            'CCS340': 'Cyber Security (Integrated)',
            'CCW331': 'Business Analytics (Integrated)',
            'CS3691': 'Embedded Systems and IoT',
            'CCS345': 'Ethics and AI (Integrated)'
        };

        // Voice Output (Speaker)
        function voiceOutput() {
            const speech = new SpeechSynthesisUtterance("The TCP three-way handshake involves SYN, SYN-ACK, and ACK steps to ensure a reliable connection.");
            window.speechSynthesis.speak(speech);
        }

        // Voice Input (Microphone)
        function startVoiceInput() {
            const micIcon = document.querySelector('.fa-microphone');
            const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
            
            recognition.onstart = () => micIcon.classList.replace('text-slate-400', 'text-red-500');
            recognition.onend = () => micIcon.classList.replace('text-red-500', 'text-slate-400');
            
            recognition.onresult = (event) => {
                document.getElementById('chat-input').value = event.results[0][0].transcript;
            };
            recognition.start();
        }

        function setTopic(code) {
            document.querySelectorAll('#topic-list button').forEach(b => b.classList.remove('active-topic'));
            event.currentTarget.classList.add('active-topic');
            console.log("Subject set to: " + subjects[code]);
        }

        function setMarks(val) {
            [2, 8, 16].forEach(m => {
                const btn = document.getElementById(`btn-${m}`);
                btn.className = (m === val) ? "bg-blue-600 text-white py-1 text-xs rounded font-bold" : "border py-1 text-xs rounded hover:bg-blue-50 font-bold";
            });
        }

        function sendText() {
            const input = document.getElementById('chat-input');
            if(input.value.trim() !== "") {
                const win = document.getElementById('chat-window');
                win.innerHTML += `<div class="flex justify-end"><div class="bg-[#10a37f] text-white p-3 px-4 rounded-2xl rounded-tr-none text-sm max-w-[85%] shadow-sm">${input.value}</div></div>`;
                input.value = "";
                win.scrollTop = win.scrollHeight;
            }
        }
    </script>
</body>
</html>
