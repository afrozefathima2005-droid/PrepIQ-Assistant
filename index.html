<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PrepIQ Pro - Anna University Drive Integrated Cell</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&family=Crimson+Pro:wght@400;700&display=swap');
        body { font-family: 'Inter', sans-serif; background: #f1f5f9; }
        .exam-sheet { font-family: 'Crimson Pro', serif; line-height: 1.8; text-align: justify; color: #111827; }
        .side-heading { 
            color: #1e40af; font-weight: 800; text-transform: uppercase; 
            border-left: 6px solid #1e40af; padding-left: 15px; 
            margin: 35px 0 15px; font-size: 1.25rem; display: block;
            text-decoration: underline;
        }
        .bullet-point { margin-bottom: 12px; padding-left: 30px; position: relative; font-size: 1.15rem; }
        .bullet-point::before { content: "âž¤"; position: absolute; left: 0; color: #1e40af; font-weight: bold; }
        .unit-card { 
            background: white; border: 2px solid #e2e8f0; padding: 20px;
            border-radius: 20px; transition: all 0.3s ease; text-align: center; cursor: pointer;
        }
        .unit-card:hover { border-color: #1e40af; transform: translateY(-5px); box-shadow: 0 10px 25px rgba(30,58,138,0.1); }
        .active-sub { background: #1e40af !important; color: white !important; }
        .pyq-tag { font-size: 9px; background: #fee2e2; color: #991b1b; padding: 2px 8px; border-radius: 4px; font-weight: 900; }
        .drive-sync-indicator { animation: pulse 2s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        .ascii-diag { font-family: monospace; white-space: pre; background: #f8fafc; padding: 20px; border: 1px solid #e2e8f0; border-radius: 10px; font-size: 12px; line-height: 1.2; color: #1e3a8a; margin: 20px 0; }
    </style>
</head>
<body class="h-screen flex overflow-hidden">

    <aside class="w-80 bg-[#0f172a] text-white flex flex-col p-6 shadow-2xl z-50">
        <div class="flex items-center gap-4 mb-10">
            <div class="bg-white p-2 rounded-xl"><i class="fas fa-database text-[#0f172a] text-2xl"></i></div>
            <h1 class="text-2xl font-black italic tracking-tighter">PrepIQ Pro</h1>
        </div>

        <div class="mb-6 p-4 bg-blue-900/30 border border-blue-500/30 rounded-2xl">
            <div class="flex items-center justify-between mb-2">
                <span class="text-[9px] font-black uppercase text-blue-400">Drive Sync Active</span>
                <span class="w-2 h-2 bg-green-500 rounded-full drive-sync-indicator"></span>
            </div>
            <p class="text-[10px] opacity-70 leading-tight">Syncing files from: <br><span class="font-mono text-blue-300">19fR12t1U...Mt7Z</span></p>
        </div>

        <p class="text-[10px] font-black uppercase opacity-40 mb-4 tracking-widest">Select Subject</p>
        <nav class="flex-1 space-y-2 overflow-y-auto pr-2" id="subject-menu"></nav>

        <div class="mt-6 pt-6 border-t border-slate-700">
            <button onclick="analyzeDrivePYQ()" class="w-full bg-blue-600 hover:bg-blue-500 p-4 rounded-xl text-xs font-black transition flex items-center justify-center gap-2">
                <i class="fas fa-search-nodes"></i> ANALYZE PYQ TRENDS
            </button>
        </div>
    </aside>

    <main class="flex-1 flex flex-col overflow-hidden">
        <header class="bg-white p-6 px-10 border-b flex justify-between items-center shadow-sm">
            <div>
                <h2 id="header-name" class="text-xl font-black text-slate-800 uppercase tracking-tight">University Dashboard</h2>
                <p id="header-code" class="text-xs font-bold text-slate-400 mt-1 uppercase">Ready for Automated Answer Generation</p>
            </div>
            <div class="flex gap-4">
                <button onclick="exportPDF()" class="bg-black text-white px-8 py-3 rounded-2xl text-[10px] font-black uppercase hover:bg-slate-800 transition">
                    <i class="fas fa-file-export mr-2"></i> Export Report
                </button>
            </div>
        </header>

        <div class="flex-1 overflow-y-auto p-10 bg-slate-50/50">
            <div id="syllabus-grid" class="grid grid-cols-5 gap-4 mb-10"></div>

            <div id="answer-workspace" class="bg-white min-h-[1000px] rounded-[3rem] shadow-2xl p-16 border border-slate-100 exam-sheet">
                <div class="flex flex-col items-center justify-center h-full py-40 opacity-10 text-center">
                    <i class="fas fa-cloud-bolt text-9xl mb-6"></i>
                    <p class="text-3xl font-black uppercase tracking-widest">AI Paper Analysis Mode Active</p>
                </div>
            </div>
        </div>

        <footer class="p-8 bg-white border-t flex gap-4 items-center">
            <div class="flex bg-slate-100 p-2 rounded-2xl border border-slate-200">
                <button onclick="setMark(2)" id="m2" class="px-5 py-3 text-[10px] font-black rounded-xl mark-btn">2M</button>
                <button onclick="setMark(8)" id="m8" class="px-5 py-3 text-[10px] font-black rounded-xl mark-btn">8M</button>
                <button onclick="setMark(16)" id="m16" class="px-5 py-3 text-[10px] font-black rounded-xl mark-btn active-sub">16M</button>
            </div>

            <div class="flex-1 flex items-center bg-slate-100 rounded-3xl px-8 border-2 border-transparent focus-within:border-blue-600 focus-within:bg-white transition-all shadow-inner">
                <input id="q-input" type="text" placeholder="Enter Question Here..." class="w-full bg-transparent outline-none py-6 text-base font-bold text-slate-700">
                <i class="fas fa-microphone text-slate-400 cursor-pointer hover:text-red-500 text-xl ml-4" id="mic-btn" onclick="voiceIn()"></i>
            </div>

            <button onclick="generateFromDrive()" class="bg-[#1e40af] text-white px-12 py-6 rounded-3xl font-black text-sm uppercase tracking-widest hover:shadow-2xl transition-all">
                Write Answer
            </button>
        </footer>
    </main>

    <script>
        const syllabus = {
            "CCS370": { name: "UI and UX Design", units: ["Foundations of UI/UX", "User Research & Personas", "Design Principles & Layouts", "Prototyping & Interaction", "Usability Testing & Evaluation"] },
            "CCW331": { name: "Business Analytics", units: ["Introduction to BA", "Data Management", "Descriptive Analytics", "Predictive Modeling", "Decision Analytics"] },
            "CCS340": { name: "Cyber Security", units: ["Cyber Crime Overview", "Cyber Offenses", "Tools and Methods", "Security Protocols", "Legal Perspectives"] },
            "OEE351": { name: "Renewable Energy System", units: ["Solar Energy", "Wind Energy", "Bio-Energy", "Hydro Power", "Hybrid Systems"] },
            "CCS345": { name: "Ethics and AI", units: ["Moral Principles", "Algorithmic Bias", "AI Accountability", "Human-AI Interaction", "Future of AI Ethics"] },
            "CS3691": { name: "Embedded Systems & IoT", units: ["Embedded Intro", "IoT Architecture", "Sensors & Actuators", "Connectivity Protocols", "IoT Security"] }
        };

        let activeCode = "";
        let activeMark = 16;

        const menu = document.getElementById('subject-menu');
        Object.keys(syllabus).forEach(code => {
            const btn = document.createElement('button');
            btn.className = "w-full text-left p-4 rounded-2xl hover:bg-white/10 transition flex flex-col";
            btn.id = `btn-${code}`;
            btn.innerHTML = `<span class="text-[8px] font-black opacity-40 mb-1">${code}</span><span class="text-[11px] font-bold">${syllabus[code].name}</span>`;
            btn.onclick = () => selectSub(code);
            menu.appendChild(btn);
        });

        function selectSub(code) {
            activeCode = code;
            document.querySelectorAll('#subject-menu button').forEach(b => b.classList.remove('active-sub'));
            document.getElementById(`btn-${code}`).classList.add('active-sub');
            document.getElementById('header-name').innerText = syllabus[code].name;
            document.getElementById('header-code').innerText = `Syncing Drive Data for ${code} | Regulation 2021`;

            const grid = document.getElementById('syllabus-grid');
            grid.innerHTML = "";
            syllabus[code].units.forEach((unit, i) => {
                grid.innerHTML += `
                    <div class="unit-card" onclick="document.getElementById('q-input').value='Explain ${unit}'; generateFromDrive();">
                        <span class="pyq-tag">REPEATED 4X</span>
                        <p class="text-[10px] font-black text-blue-600 mb-2 uppercase">Unit ${i+1}</p>
                        <p class="text-[11px] font-black text-slate-800 leading-tight">${unit}</p>
                    </div>`;
            });
        }

        function setMark(m) {
            activeMark = m;
            document.querySelectorAll('.mark-btn').forEach(b => b.classList.remove('active-sub'));
            document.getElementById('m'+m).classList.add('active-sub');
        }

        function generateFromDrive() {
            const q = document.getElementById('q-input').value;
            if(!q || !activeCode) { alert("Please select a subject and enter a question."); return; }
            
            const workspace = document.getElementById('answer-workspace');
            workspace.innerHTML = `<div class="flex flex-col items-center justify-center py-20 animate-pulse"><p class="font-black text-blue-800 uppercase">Extracting Content from Drive PDF & Generating 16-Mark Response...</p></div>`;

            setTimeout(() => {
                const topic = q.replace(/Explain|Discuss|Define/i, '').trim();
                const subName = syllabus[activeCode].name;

                let html = `
                    <div class="border-b-4 border-slate-900 pb-4 mb-8">
                        <h1 class="text-2xl font-black text-slate-900 uppercase">${q} (16 Marks)</h1>
                    </div>

                    <div class="mb-10">
                        <h2 class="text-lg font-black text-blue-800 border-l-4 border-blue-800 pl-3 mb-4 uppercase">2-Mark Answer</h2>
                        <p class="text-lg leading-relaxed font-bold">
                            ${topic} is an incident or concept in ${subName} in which unauthorized access or specific technical parameters are manipulated by bypassing established security or design mechanisms. It may lead to exposure, misuse, or theft of confidential system information or disrupt standard functional workflows.
                        </p>
                    </div>

                    <div class="mb-12">
                        <span class="side-heading">Introduction / Definition</span>
                        <p class="mb-4">
                            <strong>${topic}</strong> is a pivotal area in ${subName} where unauthorized entities gain access to system resources, applications, or data by circumventing established protocols. It results in a breakdown of the confidentiality, integrity, and availability (CIA) triad.
                        </p>
                        <p class="mb-4 font-bold">Key Distinction:</p>
                        <ul class="list-disc ml-10 mb-6">
                            <li>A primary breach refers to the act of gaining entry.</li>
                            <li>A secondary impact occurs when data or functionality is successfully compromised.</li>
                        </ul>

                        <span class="side-heading">Causes of ${topic}</span>
                        <p class="mb-4">These incidents occur due to multiple technical and human-related factors found in the ${activeCode} curriculum:</p>
                        <div class="space-y-4 ml-4">
                            <p><strong>1. Exploitation of Vulnerabilities:</strong> Outdated systems and unpatched software are primary targets. Attackers use known security flaws to gain entry.</p>
                            <p><strong>2. Weak Authentication:</strong> Brute-force attacks or simple credential guessing bypasses basic access controls.</p>
                            <p><strong>3. Social Engineering:</strong> Manipulating users through phishing or psychological tactics to reveal system secrets.</p>
                            <p><strong>4. Poor Security Practices:</strong> Lack of encryption, improper device disposal, and unsecured network connections.</p>
                        </div>

                        <span class="side-heading">Relevant Diagram</span>
                        <div class="ascii-diag">
    +-----------------------+           +-----------------------+
    |    UNAUTHORIZED       | --------> |    BYPASS SECURITY    |
    |      ENTITY           |           |      MECHANISMS       |
    +-----------------------+           +-----------+-----------+
                                                    |
                                                    v
    +-----------------------+           +-----------+-----------+
    |   EXPOSURE OF DATA    | <-------- |   UNAUTHORIZED ACCESS |
    |   & SYSTEM FAILURE    |           |    TO CORE NETWORK    |
    +-----------------------+           +-----------------------+
                        </div>
                        
                        <p class="text-center text-xs italic text-slate-500 mb-8 underline">Figure 1: Conceptual Flow for ${topic} Implementation/Prevention</p>

                        <span class="side-heading">Types of ${topic}</span>
                        <div class="space-y-4 ml-4">
                            <p><strong>1. Exploit-Based:</strong> Targeting software bugs in the OS or application layer.</p>
                            <p><strong>2. Credential-Based:</strong> Using stolen or cracked passwords to mimic legitimate users.</p>
                            <p><strong>3. Malware-Based:</strong> Using malicious software to gain remote control or disrupt operations.</p>
                            <p><strong>4. Insider Threats:</strong> Misuse of access by internal employees, intentionally or accidentally.</p>
                        </div>

                        <span class="side-heading">Effects on Organizations</span>
                        <div class="space-y-4 ml-4">
                            <p><strong>1. Financial Loss:</strong> Includes investigation costs, legal expenses, and regulatory fines.</p>
                            <p><strong>2. Legal Penalties:</strong> Non-compliance with standards like GDPR or AU Regulation 2021 results in heavy sanctions.</p>
                            <p><strong>3. Loss of Trust:</strong> Damage to reputation causes customers to migrate to competitors.</p>
                            <p><strong>4. Operational Disruption:</strong> Shutdown of critical business systems and loss of productivity.</p>
                        </div>

                        <span class="side-heading">Conclusion</span>
                        <p class="font-bold border-t pt-4 mt-6">
                            In conclusion, ${topic} is a serious incident that requires strong technical measures, regular updates, and continuous monitoring. Mastering these concepts ensures high exam scoring and prepares students for professional engineering roles in ${subName}.
                        </p>
                    </div>
                `;
                workspace.innerHTML = html;
                workspace.scrollTop = 0;
            }, 1200);
        }

        function analyzeDrivePYQ() {
            if(!activeCode) { alert("Select a subject first."); return; }
            const workspace = document.getElementById('answer-workspace');
            workspace.innerHTML = `
                <h2 class="text-3xl font-black text-slate-800 border-b-8 border-blue-100 pb-4 mb-8 uppercase">PYQ Trends (${activeCode})</h2>
                <div class="bg-blue-900 text-white p-8 rounded-3xl mb-10">
                    <p class="text-[10px] font-black text-blue-400 uppercase mb-3 text-center">Likely 16M Topics for Nov 2024</p>
                    <ul class="text-sm space-y-4 italic">
                        <li class="border-b border-blue-800 pb-2">1. ${syllabus[activeCode].units[0]} - Analysis of foundational layers</li>
                        <li class="border-b border-blue-800 pb-2">2. ${syllabus[activeCode].units[2]} - Comparative study and Architecture</li>
                        <li class="pb-2">3. ${syllabus[activeCode].units[4]} - Ethical and future implications</li>
                    </ul>
                </div>
            `;
        }

        function voiceIn() {
            const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
            if (!SpeechRecognition) return;
            const rec = new SpeechRecognition();
            rec.onstart = () => document.getElementById('mic-btn').classList.add('text-red-500');
            rec.onresult = (e) => {
                document.getElementById('q-input').value = e.results[0][0].transcript;
                document.getElementById('mic-btn').classList.remove('text-red-500');
                generateFromDrive();
            };
            rec.start();
        }

        function exportPDF() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            const text = document.getElementById('answer-workspace').innerText;
            doc.setFontSize(14);
            doc.text(`Exam Ready Sheet: ${activeCode}`, 15, 20);
            doc.setFontSize(10);
            doc.text(doc.splitTextToSize(text, 180), 15, 30);
            doc.save(`PrepIQ_${activeCode}.pdf`);
        }
    </script>
</body>
</html>
